# 重定向

## 知识点
1. 重定向流程
   1. 客户端发起请求
   2. 服务器响应重定向状态码（3xx）
   3. 客户端接收响应并解析响应头部的 Location 字段
   4. 客户端根据 Location 字段的 URL 发起新的请求
2. 重定向类别
   1. 永久重定向
      1. **301 Moved Permanently** 
         1. GET 不会发生变更
         2. 其他请求会变变更为 GET
      2. **308 Permanent Redirect**
         1. 方法和请求都不会变更，重定向站点
   2. 临时重定向
      1. **302 Found** 用在 OAuth2.0 授权码模式， HTTP 1.0 版本实现，兼容最好，影响 SEO, 导致排名下降， 表单提交
         1. GET 不会发生变更
         2. 其他请求会变变更为 GET
      2. **303 See Other** 用于 PUT 获 POST 请求完成之后重定向， http 1.1 版本实现
         1. 无论什么请求，都会变更为 GET
      3. **307 Temporary Redirect** 优先级高于 302，上传文件时使用, http 1.1 版本实现, http 重定向到 https 
         1. 方法和请求都不会变更，重定向站点，
   3. 特殊重定向
      1. **300 Multiple Choices** 用于资源有多个地址 不常用：所有的选项在消息主体的 HTML 页面中列出。鼓励在 Link 标头中加入机器可读的 rel=alternate
      2. **304 Not Modified** 用于缓存协商
3. 重定向策略
   1. 状态码重定向
   2. meta refresh 重定向

      ```html
      <head>
         <meta http-equiv="Refresh" content="0; URL=http://example.com/" />
      </head>
      ```
   3. JavaScript 重定向机制 
      ```javascript
      // 方法一
      // window.location = "http://example.com/";
      window.location.href = "http://example.com/";

      // 方法二
      window.location.replace("http://example.com/");

      // 方法三
      window.location.assign("http://example.com/");
      ```
4. 重定向优先级，状态码优先级高于 meta refresh 和 JavaScript 重定向
## 参考资料
* [重定向](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Guides/Redirections) 详细讲解重定向知识